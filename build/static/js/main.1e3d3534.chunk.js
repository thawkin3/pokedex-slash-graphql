(this["webpackJsonppokedex-slash-graphql"]=this["webpackJsonppokedex-slash-graphql"]||[]).push([[0],{44:function(e,n,t){e.exports=t.p+"static/media/pokemon-logo.9253c457.png"},51:function(e,n,t){e.exports=t(61)},56:function(e,n,t){},61:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(8),c=t.n(o),i=(t(56),t(15)),u=t.n(i),l=t(24),s=t(37),m=t(111),p=t(101),d=t(63),f=t(112),y=t(62),k=t(116),g=t(117),h=t(105),v=t(113),C=["Bug","Dark","Dragon","Electric","Fairy","Fighting","Fire","Flying","Ghost","Grass","Ground","Ice","Normal","Poison","Psychic","Rock","Steel","Water"],E=Object(p.a)((function(e){return{optionsContainer:{background:"#FFF",padding:"".concat(e.spacing(1),"px ").concat(e.spacing(2),"px"),borderRadius:4,marginBottom:e.spacing(2)},formControl:{margin:e.spacing(1),width:300,maxWidth:"100%",background:"#FFF"}}}));function x(e){var n=e.pokemonTypeFilter,t=e.setPokemonTypeFilter,a=e.capturedFilter,o=e.setCapturedFilter,c=E();return r.a.createElement(y.a,{variant:"outlined",className:c.optionsContainer},r.a.createElement(h.a,{variant:"outlined",className:c.formControl},r.a.createElement(k.a,null,"Type"),r.a.createElement(v.a,{value:n,onChange:function(e){t(e.target.value)},label:"Type"},r.a.createElement(g.a,{value:"Any"},"Any"),C.map((function(e){return r.a.createElement(g.a,{value:e,key:e},e)})))),r.a.createElement(h.a,{variant:"outlined",className:c.formControl},r.a.createElement(k.a,null,"Captured"),r.a.createElement(v.a,{value:a,onChange:function(e){o(e.target.value)},label:"Captured"},r.a.createElement(g.a,{value:"Any"},"Any"),r.a.createElement(g.a,{value:"Captured"},"Captured"),r.a.createElement(g.a,{value:"Not Captured"},"Not Captured"))))}var T=t(110),P=t(106),b=t(108),F=t(107),N=t(109),w=t(115);function A(e,n,t){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(u.a.mark((function e(n,t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokedex.us-west-2.aws.cloud.dgraph.io/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n,operationName:t,variables:a})});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){var n,t=e.pokemonType,a=e.isCaptured;return"Any"!==t&&"Any"!==a?A(function(e){var n=e.pokemonType,t=e.isCaptured;return"\n  query fetchPokemonOfCertainTypeAndByCapturedStatus {\n    queryPokemon(filter: { captured: ".concat(t,", pokemonTypes: { eq: [").concat(n,"] } }) {\n      id\n      name\n      captured\n      imgUrl\n      pokemonTypes\n    }\n  }\n")}({pokemonType:(n={pokemonType:t,isCaptured:"Captured"===a}).pokemonType,isCaptured:n.isCaptured}),"fetchPokemonOfCertainTypeAndByCapturedStatus",{}):"Any"!==t?function(e){return A(function(e){return"\n  query fetchPokemonOfCertainType {\n    queryPokemon(filter: { pokemonTypes: { eq: [".concat(e,"] } }) {\n      id\n      name\n      captured\n      imgUrl\n      pokemonTypes\n    }\n  }\n")}(e),"fetchPokemonOfCertainType",{})}(t):"Any"!==a?function(e){return A(function(e){return"\n  query fetchPokemonByCapturedStatus {\n    queryPokemon(filter: { captured: ".concat(e," }) {\n      id\n      name\n      captured\n      imgUrl\n      pokemonTypes\n    }\n  }\n")}(e),"fetchPokemonByCapturedStatus",{})}("Captured"===a):A("\n  query fetchAllPokemon {\n    queryPokemon {\n      id\n      name\n      captured\n      imgUrl\n      pokemonTypes\n    }\n  }\n","fetchAllPokemon",{})}var q=Object(p.a)((function(e){return{root:{minWidth:275},pokemonIdNumber:{fontSize:14,marginBottom:e.spacing(4)},avatar:{height:e.spacing(16),borderRadius:0,marginBottom:e.spacing(1)},cardActions:{justifyContent:"center"}}}));function j(e){var n=e.pokemon,t=e.fetchPokedexData,a=q(),o=function(){var e=Object(l.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o=n.id,c=!n.captured,A(function(e,n){return"\n  mutation updatePokemonCapturedStatus {\n    updatePokemon(input: {filter: {id: {eq: ".concat(e,"}}, set: {captured: ").concat(n,"}}) {\n      pokemon {\n        id\n        name\n        captured\n        imgUrl\n        pokemonTypes\n      }\n    }\n  }\n")}(o,c),"updatePokemonCapturedStatus",{});case 2:a=e.sent,(r=a.errors)&&console.error(r),t();case 6:case"end":return e.stop()}var o,c}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(P.a,{className:a.root,variant:"outlined"},r.a.createElement(F.a,null,r.a.createElement(d.a,{className:a.pokemonIdNumber,color:"textSecondary",gutterBottom:!0},n.id),r.a.createElement("img",{alt:n.name,src:n.imgUrl,className:a.avatar}),r.a.createElement(d.a,{variant:"h5",component:"h2"},n.name),r.a.createElement(d.a,{color:"textSecondary"},n.pokemonTypes.join(", "))),r.a.createElement(b.a,{className:a.cardActions},r.a.createElement(N.a,{control:r.a.createElement(w.a,{checked:n.captured,onChange:o,name:"captured",color:"primary"}),label:"Captured"})))}var B=Object(p.a)((function(e){return{root:{flexGrow:1},noResultsContainer:{textAlign:"center"},noResults:{color:"#FFF",fontSize:24,textTransform:"uppercase",marginTop:e.spacing(6)}}}));function D(e){var n=e.pokedexData,t=e.fetchPokedexData,a=B();return n.length>0?r.a.createElement(T.a,{container:!0,className:a.root,spacing:2},n.map((function(e){return r.a.createElement(T.a,{key:e.name,item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(j,{pokemon:e,fetchPokedexData:t}))}))):r.a.createElement("div",{className:a.noResultsContainer},r.a.createElement(d.a,{className:a.noResults},"No results. Please try a different filter value."))}var R=t(44),U=t.n(R),W=Object(p.a)((function(e){return{root:{textAlign:"center"},pokemonLogo:{maxWidth:"90%",width:400},loadingContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"#FFF",fontSize:24,textTransform:"uppercase"},loadingText:{marginTop:e.spacing(2)}}}));function I(){var e=W(),n=r.a.useState(null),t=Object(s.a)(n,2),a=t[0],o=t[1],c=r.a.useState("Any"),i=Object(s.a)(c,2),p=i[0],y=i[1],k=r.a.useState("Any"),g=Object(s.a)(k,2),h=g[0],v=g[1],C=r.a.useCallback(Object(l.a)(u.a.mark((function e(){var n,t,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({pokemonType:p,isCaptured:h});case 2:n=e.sent,t=n.errors,a=n.data,t&&console.error(t),r=a.queryPokemon.sort((function(e,n){return e.id-n.id})),o(r);case 8:case"end":return e.stop()}}),e)}))),[p,h]);return r.a.useEffect((function(){C()}),[C]),r.a.createElement("main",{className:e.root},r.a.createElement(m.a,null,r.a.createElement("img",{src:U.a,alt:"",className:e.pokemonLogo}),r.a.createElement(d.a,{variant:"srOnly"},r.a.createElement("h1",null,"Pok\xe9mon Pok\xe9dex")),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{pokemonTypeFilter:p,setPokemonTypeFilter:y,capturedFilter:h,setCapturedFilter:v}),r.a.createElement(D,{pokedexData:a,fetchPokedexData:C})):r.a.createElement("div",{className:e.loadingContainer},r.a.createElement(f.a,{color:"inherit",size:60}),r.a.createElement(d.a,{className:e.loadingText},"Loading"))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.1e3d3534.chunk.js.map